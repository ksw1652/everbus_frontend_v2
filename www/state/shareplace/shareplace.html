<!--
<ion-view>
    <ion-nav-title ui-sref="tabs.bookmark">
        &nbsp;에버버스
    </ion-nav-title>
    <ion-nav-buttons side="right">
        <button class="button button-small button-icon icon ion-navicon" ng-if="active != 'upload'" ng-click="showRightMenu()">
        </button>
        <button class="button button-icon ion-android-upload" ng-if="active=='upload'" ng-click="">공유하기</button>
    </ion-nav-buttons>
    <ion-content overflow-scroll="true" padding="true" class="has-header">
        <div class="button-bar">
            <a class="button button-clear button-calm"
               ng-class="{'share_active': isActive('card')}" ng-click="setActive('card');">스토리 카드</a>
            <a class="button button-clear button-calm"
               ng-class="{'share_active': isActive('map')}" ng-click="setActive('map');">내 주변</a>
            <a class="button button-clear button-calm"
               ng-class="{'share_active': isActive('upload')}" ng-click="setActive('upload');">스토리 작성</a>
        </div>

        <div class="list" ng-show="active == 'card'">
            <div class="list list-inset">
                <label class="item item-input">
                    <i class="icon ion-search placeholder-icon"></i>
                    <input type="text" placeholder="스토리 제목, 내용 검색">
                </label>
            </div>
            <div class="card">
                <div class="item item-button-right" href="#">
                    <h2>홍대 앤트러사이트</h2>
                    &lt;!&ndash;<button class="button button-clear" style="padding-left:30px; padding-right:0px;" ng-click="openmoreinfoPopover($event)">
                        <i class="icon ion-android-more-vertical"></i>
                    </button>&ndash;&gt;
                </div>
                <div class="item item-body">
                    <ion-slide-box show-pager="true">
                        <ion-slide>
                            <img class="full-image" src="img/1.jpg">
                        </ion-slide>
                        <ion-slide>
                            <img class="full-image" src="img/2.jpg">
                        </ion-slide>
                        <ion-slide>
                            <img class="full-image" src="img/3.jpg">
                        </ion-slide>
                    </ion-slide-box>
                    <p>
                        This is a "Facebook" styled Card. The header is created from a Thumbnail List item,
                        the content is from a card-body consisting of an image and paragraph text. The footer
                        consists of tabs, icons aligned left, within the card-footer.
                    </p>
                </div>

                <div class="button-bar">
                    <a class="button button-clear" ng-click="">
                        <i class="icon ion-map"></i>
                        <span style="font-size:11px;">목적지로 설정</span>
                    </a>
                </div>
            </div>

            <div class="card">
                <div class="item item-button-right" href="#">
                    <h2>홍대 삼삼이네</h2>
                    &lt;!&ndash;<button class="button button-clear" style="padding-left:30px; padding-right:0px;" ng-click="openmoreinfoPopover($event)">
                        <i class="icon ion-android-more-vertical"></i>
                    </button>&ndash;&gt;
                </div>
                <div class="item item-body">
                    <ion-slide-box show-pager="true">
                        <ion-slide>
                            <img class="full-image" src="img/4.jpg">
                        </ion-slide>
                        <ion-slide>
                            <img class="full-image" src="img/5.jpg">
                        </ion-slide>
                    </ion-slide-box>
                    <p>
                        This is a "Facebook" styled Card. The header is created from a Thumbnail List item,
                        the content is from a card-body consisting of an image and paragraph text. The footer
                        consists of tabs, icons aligned left, within the card-footer.
                    </p>
                </div>

                <div class="button-bar">
                    <a class="button button-clear" ng-click="">
                        <i class="icon ion-map"></i>
                        <span style="font-size:11px;">목적지로 설정</span>
                    </a>
                </div>
            </div>

            <div class="card">
                <div class="item item-button-right" href="#">
                    <h2>합정 빈브라더스</h2>
                    &lt;!&ndash;<button class="button button-clear" style="padding-left:30px; padding-right:0px;" ng-click="openmoreinfoPopover($event)">
                        <i class="icon ion-android-more-vertical"></i>
                    </button>&ndash;&gt;
                </div>
                <div class="item item-body">
                    <ion-slide-box show-pager="true">
                        <ion-slide>
                            <img class="full-image" src="img/6.jpg">
                        </ion-slide>
                        <ion-slide>
                            <img class="full-image" src="img/7.jpg">
                        </ion-slide>
                    </ion-slide-box>
                    <p>
                        This is a "Facebook" styled Card. The header is created from a Thumbnail List item,
                        the content is from a card-body consisting of an image and paragraph text. The footer
                        consists of tabs, icons aligned left, within the card-footer.
                    </p>
                </div>

                <div class="button-bar">
                    <a class="button button-clear" ng-click="">
                        <i class="icon ion-map"></i>
                        <span style="font-size:11px;">목적지로 설정</span>
                    </a>
                </div>
            </div>

        </div>

        <div ng-if="active == 'map'" data-tap-disabled="true">

            <ui-gmap-google-map id="shareplace_map" center='map.center' zoom='map.zoom' options="map.options">
                <ui-gmap-map-control template="current-position.tpl.html" controller="shareplaceCtrl" position="top-right" index="-1"></ui-gmap-map-control>
            </ui-gmap-google-map>
        </div>


        <div class="list" ng-show="active == 'upload'">
            <ion-md-input placeholder="제목"  highlight-color="calm" type="text"></ion-md-input>
            &lt;!&ndash;<ion-md-input placeholder="작성자" highlight-color="calm" type="email"></ion-md-input>
            <ion-md-input placeholder="비밀번호" highlight-color="calm" type="password"></ion-md-input>&ndash;&gt;
            <div class="item">
                <textarea class="no-resize" placeholder="스토리를 작성해 보아요~!!"
                          ng-model="story_text" ng-trim="false" maxlength="100" style="width:100%; height:80px;"></textarea>
                <span style="padding-left:80%;">{{100-story_text.length}}/100</span>
            </div>

            <ion-list>
                <ion-item class="item-icon-right" ng-class="{'success_getplaceinfo' : check_placeValue()}" ng-click="goto_shareplacesearchquery()">
                    {{check_placeValue() ? '장소 선택 완료' : '위치 표시하기'}}
                    <i class="icon ion-chevron-right icon-accessory" ng-hide="check_placeValue()"></i>
                    <i class="icon ion-android-done" ng-show="check_placeValue()"></i>
                </ion-item>
                <ion-item class="item-icon-right" ng-class="{'success_getplaceinfo' : check_pictureValue}" ng-click="upload_picture()">
                    &lt;!&ndash;style="color:#ffffff; background-color: rgba(59, 132, 255, 0.8);"&ndash;&gt;
                    {{check_pictureValue ? '사진 선택 완료' : '사진 가져오기'}}
                    <i class="icon ion-chevron-right icon-accessory" ng-hide="check_pictureValue"></i>
                    <i class="icon ion-android-done" ng-show="check_pictureValue"></i>
                </ion-item>
            </ion-list>

            <div class="row">
                <div class="col col-33" ng-repeat="picture in story_pictures">
                    <img ng-src="{{picture}}" class="story_image">
                </div>
            </div>
        </div>
    </ion-content>
</ion-view>-->
<ion-view>
    <ion-nav-title ui-sref="tabs.bookmark">
        &nbsp;에버버스
    </ion-nav-title>
    <ion-nav-buttons side="right">
        <button class="button button-small button-icon icon ion-navicon" ng-if="active != 'upload'"
                ng-click="showRightMenu()">
        </button>
        <button class="button button-icon ion-android-upload" ng-if="active=='upload'" ng-click="finishShare();">공유하기
        </button>
    </ion-nav-buttons>
    <ion-content overflow-scroll="true" padding="true" class="has-header">
        <div class="button-bar">
            <a class="button button-clear button-calm"
               ng-class="{'share_active': isActive('card')}" ng-click="setActive('card');">스토리 카드</a>
            <a class="button button-clear button-calm"
               ng-class="{'share_active': isActive('map')}" ng-click="setActive('map');">내 주변</a>
            <a class="button button-clear button-calm"
               ng-class="{'share_active': isActive('upload')}" ng-click="setActive('upload');">스토리 작성</a>
        </div>

        <div class="list" ng-show="active == 'card'">
            <div class="list list-inset">
                <label class="item item-input">
                    <i class="icon ion-search placeholder-icon"></i>
                    <input type="text" placeholder="스토리 제목, 내용 검색" ng-model="story_card_obj.title"
                           ng-change="searchTitle();">
                </label>
            </div>


            <div class="card" ng-repeat="cards in storyCard">
                <div ng-repeat="card in cards">
                    <div class="item item-button-right" href="#">
                        <h2>{{card.TITLE}}</h2>
                    </div>
                    <div class="item item-body">
                        <ion-slide-box show-pager="true">
                            <ion-slide ng-repeat="cardimg in card.PHOTO_PATH">
                                <img style="width:100%;height:400px;" ng-src="{{cardimg}}">
                            </ion-slide>
                        </ion-slide-box>
                        <p>
                            {{card.CONTENT}}
                        </p>
                    </div>

                    <div class="button-bar" ng-click="goDestination(card.LAT, card.LNG);">
                        <a class="button button-clear" ng-click="">
                            <i class="icon ion-map"></i>
                            <span style="font-size:11px;">목적지로 설정</span>
                        </a>
                    </div>
                </div>
                <ion-infinite-scroll
                        on-infinite="loadmoreStoryEvent()"
                        distance="2">
                </ion-infinite-scroll>
            </div>
        </div>




        <div ng-if="active == 'map'" data-tap-disabled="true">

            <ui-gmap-google-map id="shareplace_map" center='map.center' zoom='map.zoom' options="map.options" event="map.events" control="map.control" >
                <ui-gmap-map-control template="current-position.tpl.html" controller="shareplaceCtrl"
                                     position="top-right" index="-1">

                </ui-gmap-map-control>

                <ui-gmap-markers models="map.markers" idKey="map.markers.id"  coords="'self'"  icon="'icon'"
                                 click="onClick"  doRebuildAll="true" modelsbyref="false" >
                </ui-gmap-markers>

            </ui-gmap-google-map>

        </div>

        <div class="list" ng-show="active == 'upload'">
            <ion-md-input placeholder="제목" highlight-color="calm" type="text"
                          ng-model="sendShareStory.title"></ion-md-input>
            <!--<ion-md-input placeholder="작성자" highlight-color="calm" type="email"></ion-md-input>
            <ion-md-input placeholder="비밀번호" highlight-color="calm" type="password"></ion-md-input>-->
            <div class="item">
                <textarea class="no-resize" placeholder="스토리를 작성해 보아요~!!"
                          ng-model="sendShareStory.text" ng-trim="false" maxlength="100"
                          style="width:100%; height:80px;"></textarea>
                <span style="padding-left:80%;">{{100-sendShareStory.text.length}}/100</span>
            </div>

            <ion-list>
                <ion-item class="item-icon-right" ng-class="{'success_getplaceinfo' : check_placeValue()}"
                          ng-click="goto_shareplacesearchquery()">
                    {{check_placeValue() ? '장소 선택 완료' : '위치 표시하기'}}
                    <i class="icon ion-chevron-right icon-accessory" ng-hide="check_placeValue()"></i>
                    <i class="icon ion-android-done" ng-show="check_placeValue()"></i>
                </ion-item>
                <ion-item class="item-icon-right" ng-class="{'success_getplaceinfo' : check_pictureValue}"
                          ng-click="upload_picture()">
                    <!--style="color:#ffffff; background-color: rgba(59, 132, 255, 0.8);"-->
                    {{check_pictureValue ? '사진 선택 완료' : '사진 가져오기'}}
                    <i class="icon ion-chevron-right icon-accessory" ng-hide="check_pictureValue"></i>
                    <i class="icon ion-android-done" ng-show="check_pictureValue"></i>
                </ion-item>
            </ion-list>

            <div class="row">
                <div class="col col-33" ng-repeat="picture in story_pictures">
                    <img ng-src="{{picture}}" class="story_image">
                </div>
            </div>
        </div>
    </ion-content>
</ion-view>